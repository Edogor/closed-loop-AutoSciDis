var jsPsychHtmlChoice=function(e){"use strict";function t(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var r={name:"html-choice",parameters:{html_array:{type:e.ParameterType.HTML_STRING,pretty_name:"Stimulus",default:void 0},stimulus_duration:{type:e.ParameterType.INT,pretty_name:"Stimulus duration",default:null},trial_duration:{type:e.ParameterType.INT,pretty_name:"Trial duration",default:null},response_ends_trial:{type:e.ParameterType.BOOL,pretty_name:"Response ends trial",default:!0},values:{type:e.ParameterType.STRING,pretty_name:"Values",default:null},time_after_response:{type:e.ParameterType.INT,pretty_name:"Time after response",default:0}}},a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.jsPsych=t}var r,a,l;return r=e,(a=[{key:"trial",value:function(e,t){var r,a=this;if(t.values){if(t.values.length!==t.html_array.length)throw new Error("array of html-choices does not have the same length as array of valuse");r=t.values}else r=Array(t.html_array.length).fill(null);for(var l="<div>",n=0;n<t.html_array.length;n++)l+='<div class= "jspsych-html-choice" id="jspsych-html-choice-'+n+'" data-choice='+n+" value="+r[n]+">",l+=t.html_array[n],l+="</div>";l+="</div>",e.innerHTML=l;for(var s=performance.now(),i=0;i<t.html_array.length;i++)e.querySelector("#jspsych-html-choice-"+i).addEventListener("click",(function(e){var t=e.currentTarget,r=t.getAttribute("data-choice"),a=t.getAttribute("value");c(r,a)}));var u={rt:null,choice:null,value:null},o=function(){a.jsPsych.pluginAPI.clearAllTimeouts();var r={rt:u.rt,stimulus:t.html_array,response:u.choice,value:u.value};e.innerHTML="",a.jsPsych.finishTrial(r)},c=function(r,l){var n=performance.now(),i=Math.round(n-s);u.choice=parseInt(r),u.value=parseInt(l),u.rt=i,e.querySelector("#jspsych-html-choice-"+r).className+=" responded";for(var c=document.querySelectorAll(".jspsych-html-choice"),h=0;h<c.length;h++)c[h].style.pointerEvents="none";t.response_ends_trial&&(a.jsPsych.pluginAPI.clearAllTimeouts(),a.jsPsych.pluginAPI.setTimeout(o,t.time_after_response))};null!==t.stimulus_duration&&this.jsPsych.pluginAPI.setTimeout((function(){e.querySelector("#jspsych-html-button-response-stimulus").style.visibility="hidden"}),t.stimulus_duration),null!==t.trial_duration&&this.jsPsych.pluginAPI.setTimeout(o,t.trial_duration)}}])&&t(r.prototype,a),l&&t(r,l),Object.defineProperty(r,"prototype",{writable:!1}),e}();return a.info=r,a}(jsPsychModule);
//# sourceMappingURL=index.browser.min.js.map
