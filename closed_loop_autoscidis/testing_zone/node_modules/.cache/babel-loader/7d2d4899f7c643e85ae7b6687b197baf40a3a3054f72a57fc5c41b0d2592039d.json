{"ast":null,"code":"import React from'react';import ReactDOM from'react-dom/client';import Error from'./Error';import{waitPage,endPage}from\"./pages\";import{getCondition,setObservation,setBackup}from\"autora-firebase-functions\";import main from\"./design/main\";import db from\"./firebase\";import{jsx as _jsx}from\"react/jsx-runtime\";const root=ReactDOM.createRoot(document.getElementById('root'));const index=async()=>{if(process.env.NODE_ENV==='development'&&process.env.REACT_APP_devNoDb==='True'){await main(0,0);return;}let prolificId=null;if(process.env.REACT_APP_useProlificId==='True'){const queryString=window.location.search;const urlParams=new URLSearchParams(queryString);prolificId=urlParams.get('PROLIFIC_PID');}let condition=await getCondition(db,'autora',prolificId);if(condition&&(prolificId!==null||process.env.REACT_APP_useProlificId==='False')){const observation=await main(condition[0],condition[1]);waitPage();await setObservation(db,'autora',condition[0],observation);await setBackup(db,'autora',condition[0],condition[1],observation);endPage();}else{root.render(/*#__PURE__*/_jsx(React.StrictMode,{children:/*#__PURE__*/_jsx(Error,{})}));}};await index();","map":{"version":3,"names":["React","ReactDOM","Error","waitPage","endPage","getCondition","setObservation","setBackup","main","db","jsx","_jsx","root","createRoot","document","getElementById","index","process","env","NODE_ENV","REACT_APP_devNoDb","prolificId","REACT_APP_useProlificId","queryString","window","location","search","urlParams","URLSearchParams","get","condition","observation","render","StrictMode","children"],"sources":["/workspaces/closed-loop-AutoSciDis/closed_loop_autoscidis/testing_zone/src/index.js"],"sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport Error from './Error';\nimport {waitPage, endPage} from \"./pages\";\nimport {getCondition, setObservation, setBackup} from \"autora-firebase-functions\";\nimport main from \"./design/main\"\nimport db from \"./firebase\"\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\n\nconst index = async () => {\n    if (process.env.NODE_ENV === 'development' && process.env.REACT_APP_devNoDb === 'True') {\n        await main(0, 0)\n        return\n    }\n    let prolificId = null\n    if (process.env.REACT_APP_useProlificId === 'True') {\n        const queryString = window.location.search;\n        const urlParams = new URLSearchParams(queryString);\n        prolificId = urlParams.get('PROLIFIC_PID');\n    }\n    let condition = await getCondition(db, 'autora', prolificId)\n    if (condition && (prolificId !== null || process.env.REACT_APP_useProlificId === 'False')) {\n        const observation = await main(condition[0], condition[1])\n        waitPage()\n        await setObservation(db, 'autora', condition[0], observation)\n        await setBackup(db, 'autora', condition[0], condition[1], observation)\n        endPage()\n    } else {\n        root.render(\n            <React.StrictMode>\n                <Error/>\n            </React.StrictMode>\n        );\n    }\n}\nawait index()"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,QAAQ,KAAM,kBAAkB,CACvC,MAAO,CAAAC,KAAK,KAAM,SAAS,CAC3B,OAAQC,QAAQ,CAAEC,OAAO,KAAO,SAAS,CACzC,OAAQC,YAAY,CAAEC,cAAc,CAAEC,SAAS,KAAO,2BAA2B,CACjF,MAAO,CAAAC,IAAI,KAAM,eAAe,CAChC,MAAO,CAAAC,EAAE,KAAM,YAAY,QAAAC,GAAA,IAAAC,IAAA,yBAE3B,KAAM,CAAAC,IAAI,CAAGX,QAAQ,CAACY,UAAU,CAACC,QAAQ,CAACC,cAAc,CAAC,MAAM,CAAC,CAAC,CAEjE,KAAM,CAAAC,KAAK,CAAG,KAAAA,CAAA,GAAY,CACtB,GAAIC,OAAO,CAACC,GAAG,CAACC,QAAQ,GAAK,aAAa,EAAIF,OAAO,CAACC,GAAG,CAACE,iBAAiB,GAAK,MAAM,CAAE,CACpF,KAAM,CAAAZ,IAAI,CAAC,CAAC,CAAE,CAAC,CAAC,CAChB,OACJ,CACA,GAAI,CAAAa,UAAU,CAAG,IAAI,CACrB,GAAIJ,OAAO,CAACC,GAAG,CAACI,uBAAuB,GAAK,MAAM,CAAE,CAChD,KAAM,CAAAC,WAAW,CAAGC,MAAM,CAACC,QAAQ,CAACC,MAAM,CAC1C,KAAM,CAAAC,SAAS,CAAG,GAAI,CAAAC,eAAe,CAACL,WAAW,CAAC,CAClDF,UAAU,CAAGM,SAAS,CAACE,GAAG,CAAC,cAAc,CAAC,CAC9C,CACA,GAAI,CAAAC,SAAS,CAAG,KAAM,CAAAzB,YAAY,CAACI,EAAE,CAAE,QAAQ,CAAEY,UAAU,CAAC,CAC5D,GAAIS,SAAS,GAAKT,UAAU,GAAK,IAAI,EAAIJ,OAAO,CAACC,GAAG,CAACI,uBAAuB,GAAK,OAAO,CAAC,CAAE,CACvF,KAAM,CAAAS,WAAW,CAAG,KAAM,CAAAvB,IAAI,CAACsB,SAAS,CAAC,CAAC,CAAC,CAAEA,SAAS,CAAC,CAAC,CAAC,CAAC,CAC1D3B,QAAQ,CAAC,CAAC,CACV,KAAM,CAAAG,cAAc,CAACG,EAAE,CAAE,QAAQ,CAAEqB,SAAS,CAAC,CAAC,CAAC,CAAEC,WAAW,CAAC,CAC7D,KAAM,CAAAxB,SAAS,CAACE,EAAE,CAAE,QAAQ,CAAEqB,SAAS,CAAC,CAAC,CAAC,CAAEA,SAAS,CAAC,CAAC,CAAC,CAAEC,WAAW,CAAC,CACtE3B,OAAO,CAAC,CAAC,CACb,CAAC,IAAM,CACHQ,IAAI,CAACoB,MAAM,cACPrB,IAAA,CAACX,KAAK,CAACiC,UAAU,EAAAC,QAAA,cACbvB,IAAA,CAACT,KAAK,GAAC,CAAC,CACM,CACtB,CAAC,CACL,CACJ,CAAC,CACD,KAAM,CAAAc,KAAK,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}